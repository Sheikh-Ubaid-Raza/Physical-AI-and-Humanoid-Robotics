"use strict";(globalThis.webpackChunkwebsite_name=globalThis.webpackChunkwebsite_name||[]).push([[113],{5112:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"week-03/ros2-architecture","title":"ROS 2 Architecture: Nodes, Topics, Services, Actions","description":"Learning Objectives","source":"@site/docs/week-03/ros2-architecture.md","sourceDirName":"week-03","slug":"/week-03/ros2-architecture","permalink":"/Physical-AI-and-Humanoid-Robotics/docs/week-03/ros2-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/Sheikh-Ubaid-Raza/Physical-AI-and-Humanoid-Robotics/edit/main/docs/week-03/ros2-architecture.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"ROS 2 Architecture: Nodes, Topics, Services, Actions"},"sidebar":"tutorialSidebar","previous":{"title":"LIDAR, Cameras, IMUs: Fusion and Integration for Robust Perception","permalink":"/Physical-AI-and-Humanoid-Robotics/docs/week-02/lidar-cameras-imus"},"next":{"title":"Building ROS 2 Packages with Python (rclpy)","permalink":"/Physical-AI-and-Humanoid-Robotics/docs/week-04/building-ros2-packages"}}');var i=n(4848),t=n(8453);const o={sidebar_position:1,title:"ROS 2 Architecture: Nodes, Topics, Services, Actions"},a="ROS 2 Architecture: Nodes, Topics, Services, Actions",c={},l=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Theory",id:"theory",level:2},{value:"Core Architecture Concepts",id:"core-architecture-concepts",level:3},{value:"DDS Middleware",id:"dds-middleware",level:3},{value:"Code Example 1: Basic ROS 2 Publisher Node",id:"code-example-1-basic-ros-2-publisher-node",level:2},{value:"Code Example 2: Basic ROS 2 Subscriber Node",id:"code-example-2-basic-ros-2-subscriber-node",level:2},{value:"Hands-on Exercises",id:"hands-on-exercises",level:2},{value:"Summary",id:"summary",level:2},{value:"Hardware Requirements",id:"hardware-requirements",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"ros-2-architecture-nodes-topics-services-actions",children:"ROS 2 Architecture: Nodes, Topics, Services, Actions"})}),"\n",(0,i.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(s.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Explain the core concepts of ROS 2 architecture (nodes, topics, services, actions)"}),"\n",(0,i.jsx)(s.li,{children:"Implement basic ROS 2 nodes for communication"}),"\n",(0,i.jsx)(s.li,{children:"Compare the differences between topics, services, and actions"}),"\n",(0,i.jsx)(s.li,{children:"Design appropriate communication patterns for different robotic tasks"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Basic understanding of distributed systems concepts"}),"\n",(0,i.jsx)(s.li,{children:"Familiarity with Python programming"}),"\n",(0,i.jsx)(s.li,{children:"Understanding of publisher-subscriber and client-server patterns"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"theory",children:"Theory"}),"\n",(0,i.jsx)(s.p,{children:"ROS 2 (Robot Operating System 2) provides a flexible framework for developing robot applications. It implements a distributed peer-to-peer architecture that enables different components of a robot system to communicate and coordinate with each other."}),"\n",(0,i.jsx)(s.h3,{id:"core-architecture-concepts",children:"Core Architecture Concepts"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Nodes"}),": A node is a process that performs computation. Nodes are the fundamental building blocks of a ROS 2 program. Multiple nodes are typically aggregated together to form a complete robot application."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Topics"}),": Topics enable asynchronous communication between nodes using a publish-subscribe pattern. Publishers send messages to topics, and subscribers receive messages from topics. This is ideal for streaming data like sensor readings."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Services"}),": Services enable synchronous request-response communication between nodes. A client sends a request to a service, and the service sends back a response. This is ideal for operations that require a definitive result."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Actions"}),": Actions enable asynchronous goal-request-result communication with feedback. Actions are ideal for long-running tasks where you need to monitor progress and potentially cancel the operation."]}),"\n",(0,i.jsx)(s.h3,{id:"dds-middleware",children:"DDS Middleware"}),"\n",(0,i.jsx)(s.p,{children:"ROS 2 uses Data Distribution Service (DDS) as its underlying middleware. DDS provides discovery, serialization, and transport mechanisms that enable nodes to communicate transparently across different platforms and programming languages."}),"\n",(0,i.jsx)(s.h2,{id:"code-example-1-basic-ros-2-publisher-node",children:"Code Example 1: Basic ROS 2 Publisher Node"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"# Purpose: Create a simple publisher node that publishes sensor data\n# Setup Instructions: ROS 2 Humble Hawksbill installed\n# Run: ros2 run my_package sensor_publisher.py (after proper setup)\n\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\nimport random\nimport time\n\nclass SensorPublisher(Node):\n    def __init__(self):\n        super().__init__('sensor_publisher')\n        self.publisher_ = self.create_publisher(String, 'sensor_data', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Sensor reading {self.i}: {random.uniform(0, 100):.2f}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    sensor_publisher = SensorPublisher()\n\n    try:\n        rclpy.spin(sensor_publisher)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        sensor_publisher.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [1620123456.789] [sensor_publisher]: Publishing: "Sensor reading 0: 42.67"\n[INFO] [1620123457.289] [sensor_publisher]: Publishing: "Sensor reading 1: 78.23"\n[INFO] [1620123457.789] [sensor_publisher]: Publishing: "Sensor reading 2: 15.89"\n'})}),"\n",(0,i.jsx)(s.h2,{id:"code-example-2-basic-ros-2-subscriber-node",children:"Code Example 2: Basic ROS 2 Subscriber Node"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"# Purpose: Create a subscriber node that receives sensor data\n# Setup Instructions: ROS 2 Humble Hawksbill installed\n# Run: ros2 run my_package sensor_subscriber.py (after proper setup)\n\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SensorSubscriber(Node):\n    def __init__(self):\n        super().__init__('sensor_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'sensor_data',\n            self.listener_callback,\n            10)\n        self.subscription  # Prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    sensor_subscriber = SensorSubscriber()\n\n    try:\n        rclpy.spin(sensor_subscriber)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        sensor_subscriber.destroy_node()\n        rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [1620123456.789] [sensor_subscriber]: I heard: "Sensor reading 0: 42.67"\n[INFO] [1620123457.289] [sensor_subscriber]: I heard: "Sensor reading 1: 78.23"\n[INFO] [1620123457.789] [sensor_subscriber]: I heard: "Sensor reading 2: 15.89"\n'})}),"\n",(0,i.jsx)(s.h2,{id:"hands-on-exercises",children:"Hands-on Exercises"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Create a ROS 2 service server that performs a mathematical calculation (e.g., computing distance between two points) and a client that calls this service"}),"\n",(0,i.jsx)(s.li,{children:"Implement a ROS 2 action server that simulates moving a robot to a goal position with feedback on progress"}),"\n",(0,i.jsx)(s.li,{children:"Design a multi-node ROS 2 system that demonstrates the use of topics, services, and actions together for a simple robot task"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(s.p,{children:"ROS 2 provides a robust architecture for building distributed robotic systems. Understanding the differences between nodes, topics, services, and actions is crucial for designing effective robot applications. The choice of communication pattern depends on the timing requirements and nature of the interaction between components."}),"\n",(0,i.jsx)(s.h2,{id:"hardware-requirements",children:"Hardware Requirements"}),"\n",(0,i.jsx)(s.p,{children:"This chapter can be completed using simulation environments. For physical implementation, the following hardware is recommended:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Computer with ROS 2 installed (Ubuntu 22.04 with ROS 2 Humble Hawksbill)"}),"\n",(0,i.jsx)(s.li,{children:"Network connectivity for multi-machine setups"}),"\n",(0,i.jsx)(s.li,{children:"Robot hardware with ROS 2 drivers (optional for basic exercises)"}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var r=n(6540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);