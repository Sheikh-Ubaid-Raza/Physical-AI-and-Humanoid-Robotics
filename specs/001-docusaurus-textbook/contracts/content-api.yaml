# Content API Contract: Physical AI & Humanoid Robotics Textbook

## Overview
This contract defines the structure and interface for the educational content in the Physical AI & Humanoid Robotics Textbook. Since this is a static site generated by Docusaurus, the "API" refers to the content structure and metadata format used by the documentation system.

## Content Structure

### Chapter Document Schema
```yaml
type: object
properties:
  id:
    type: string
    description: Unique identifier for the chapter
    example: "week-01-foundations-of-physical-ai"
  title:
    type: string
    description: Display title of the chapter
    example: "Foundations of Physical AI and Embodied Intelligence"
  sidebar_position:
    type: number
    description: Position in the sidebar navigation
    example: 1
  learningObjectives:
    type: array
    items:
      type: string
    description: List of learning objectives for the chapter
    example: ["Define Physical AI", "Explain embodied intelligence"]
  prerequisites:
    type: array
    items:
      type: string
    description: Prerequisites needed for this chapter
    example: ["Basic programming knowledge", "AI fundamentals"]
required:
  - id
  - title
```

### Code Example Schema
```yaml
type: object
properties:
  purpose:
    type: string
    description: What this code example demonstrates
    example: "Demonstrates basic physics simulation for a mobile robot"
  setupInstructions:
    type: string
    description: Instructions for setting up the code example
    example: "Install numpy and matplotlib"
  code:
    type: string
    description: The actual code content
    example: "import numpy as np\nimport matplotlib.pyplot as plt\n..."
  expectedOutput:
    type: string
    description: What output to expect when running the code
    example: "Initial position: (0, 0, 0)\nNew position: (0.10, 0.00, 0.01)"
required:
  - purpose
  - setupInstructions
  - code
  - expectedOutput
```

## Content Endpoints

### GET /docs/week-{number}/{chapter-name}/
- **Description**: Retrieves a specific textbook chapter
- **Parameters**:
  - week: Week number (01-13)
  - chapter-name: URL-friendly chapter identifier
- **Response**: HTML page containing the formatted chapter content
- **Content Structure**:
  - Title section with learning objectives
  - Theory content (500-1000 words)
  - 2-3 code examples with syntax highlighting
  - Hands-on exercises
  - Summary
  - Hardware requirements (if applicable)

### GET /api/search
- **Description**: Search across all textbook content
- **Query Parameters**:
  - q: Search query string
- **Response**: JSON object with search results containing:
  - title: Chapter title
  - url: URL to the chapter
  - excerpt: Relevant text excerpt
  - score: Relevance score

### GET /static/img/{week}/{image-name}
- **Description**: Retrieve static assets (diagrams, images)
- **Parameters**:
  - week: Week directory (e.g., week-01)
  - image-name: Image filename
- **Response**: Image file (max 500KB as per requirements)

## Content Validation Rules

### Chapter Validation
- Title must be 5-100 characters
- Theory content must be 500-1000 words
- Must include 2-3 code examples
- Learning objectives must be present
- Prerequisites must be specified

### Code Example Validation
- Language must be in the supported list: python, yaml, xml, urdf
- Purpose must be specified
- Setup instructions must be provided
- Code must be executable with provided instructions
- Expected output must be documented

### Image Validation
- File size must be under 500KB (512000 bytes)
- Alt text must be provided for accessibility
- Image must be relevant to the chapter content

## Error Handling

### 404 Not Found
- Trigger: Requested chapter or resource does not exist
- Response: User-friendly error page with navigation options

### 422 Validation Error
- Trigger: Content does not meet validation requirements
- Response: Error message indicating which validation rules were violated

## Performance Requirements

- Page load time: <3 seconds on standard internet connection
- Search response time: <1 second
- Image load time: Optimized for fast delivery

## Security Considerations

- All user-generated content (if any) must be sanitized
- No executable scripts in content (except documented code examples)
- Content integrity verification through build process